
<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Läshastighet – 1 minut</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    body { font-family: system-ui, sans-serif; background: #f8fafc; margin: 0; }
    h1 { text-align: center; margin: 8px 0; font-size: 22px; }

    .container { max-width: 600px; margin: auto; }

    /* Sticky header */
    .header {
      position: sticky;
      top: 0;
      background: #f8fafc;
      z-index: 10;
      padding: 8px 8px 12px 8px;
      border-bottom: 1px solid #e5e7eb;
    }

    .timer { font-size: 36px; text-align: center; }

    .controls {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-top: 6px;
    }

    .list {
      display: flex;
      flex-direction: column;
      gap: 6px;
      padding: 12px;
    }

    button.word {
      text-align: left;
      padding: 10px;
      font-size: 22px;
      border-radius: 10px;
      border: 1px solid #ccc;
      background: white;
    }

    button.selected { background: #bbf7d0; }

    button.primary {
      font-size: 18px;
      padding: 10px 16px;
      border-radius: 12px;
      background: #16a34a;
      color: white;
      border: none;
    }

    button.secondary {
      font-size: 18px;
      padding: 10px 16px;
      border-radius: 12px;
      background: #2563eb;
      color: white;
      border: none;
    }

    button.stop {
      font-size: 18px;
      padding: 10px 16px;
      border-radius: 12px;
      background: #dc2626;
      color: white;
      border: none;
    }

    .result {
      text-align: center;
      font-size: 20px;
      margin: 12px 0;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const WORD_POOL = [
      "jag","du","hon","han","vi","de","min","din","sin","vår","är","har","kan","vill","ska","går","kommer","ser","hör","säger",
      "tänker","vet","gör","får","nu","här","där","alltid","ibland","aldrig","snart","idag","igår","imorgon","stor","liten","lång",
      "kort","snabb","långsam","tung","lätt","varm","kall","glad","ledsen","arg","snäll","rädd","modig","stark","svag","trygg",
      "dag","natt","morgon","kväll","vecka","år","hem","hus","rum","dörr","fönster","bord","stol","säng","kök","hall","skola",
      "klass","lärare","elev","bok","text","ord","bild","penna","papper","läsa","skriva","räkna","leka","springa","hoppa","kasta",
      "fånga","spela","boll","plan","lag","vinst","förlust","mat","bröd","smör","mjölk","vatten","frukt","äpple","banan","päron",
      "tallrik","glas","sked","sol","regn","vind","snö","moln","himmel","mark","träd","blomma","gräs","skog","sjö","strand","djur",
      "hund","katt","fågel","fisk","häst","vän","familj","mamma","pappa","syskon","kompis","rast","lektion","fråga","svara","förstå",
      "lära","hjälpa","dela","vänta","börja","sluta","prova","klara","öva","lyckas","dröm","hopp","saga","resa","karta","spår","äventyr"
    ];

    function shuffle(array) {
      const arr = [...array];
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function generateWordList(pool, count = 150) {
      return shuffle(pool).slice(0, count);
    }

    function App() {
      const [timeLeft, setTimeLeft] = React.useState(60);
      const [running, setRunning] = React.useState(false);
      const [finished, setFinished] = React.useState(false);
      const [result, setResult] = React.useState(null);
      const [words, setWords] = React.useState([]);

      React.useEffect(() => {
        if (!running) return;
        if (timeLeft === 0) {
          setRunning(false);
          setFinished(true);
          return;
        }
        const t = setTimeout(() => setTimeLeft(v => v - 1), 1000);
        return () => clearTimeout(t);
      }, [running, timeLeft]);

      function start() {
        setWords(generateWordList(WORD_POOL, 150));
        setTimeLeft(60);
        setFinished(false);
        setResult(null);
        setRunning(true);
      }

      function stop() {
        setRunning(false);
        setFinished(true);
      }

      return (
        <div className="container">
          <div className="header">
            <h1>Läshastighet – 1 minut (åk 4)</h1>
            <div className="timer">{timeLeft}s</div>
            <div className="controls">
              {!running && !finished && (
                <button className="primary" onClick={start}>Start</button>
              )}
              {running && (
                <button className="stop" onClick={stop}>Stopp</button>
              )}
              {finished && (
                <button className="secondary" onClick={start}>Omstart</button>
              )}
            </div>
            {finished && <div className="result">Resultat: {result ?? "-"} ord</div>}
          </div>

          {(running || finished) && (
            <div className="list">
              {words.map((w, i) => (
                <button
                  key={i}
                  className={"word " + (result === i + 1 ? "selected" : "")}
                  disabled={!finished}
                  onClick={() => setResult(i + 1)}
                >
                  {i + 1}. {w}
                </button>
              ))}
            </div>
          )}
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<App />);
  </script>
</body>
</html>
